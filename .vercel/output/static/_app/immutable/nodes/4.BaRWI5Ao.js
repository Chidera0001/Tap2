import{S as gs,i as _s,s as bs,d as l,m as Oe,o as Ce,p as we,q as a,r as xs,c as e,b as H,u as Qe,v as ys,e as t,h as m,w as Ue,f as c,j as s,k as h,x as Ge,l as Cs,y as ws,n as ae,z as ps,A as T,a as q,B as He,g as L,t as A,C as Es}from"../chunks/BXmqPpqk.js";import{H as Ds,e as Jt}from"../chunks/f7oLYUCy.js";import"../chunks/IHki7fMi.js";import{p as Vs}from"../chunks/J1ZOVPTa.js";import{S as _t}from"../chunks/D_LnWmY5.js";import{c as ks,a as Is}from"../chunks/LhW53hAP.js";function ms(o,r,i){const v=o.slice();return v[12]=r[i],v}function $s(o,r,i){const v=o.slice();return v[9]=r[i],v}function Ts(o){let r,i,v,_="Dashboard",w,E,x="/",f,u,p=o[0].businessName+"",y,C,D,d,b,V,B=o[0].businessName.charAt(0)+"",Je,bt,R,Ee,Pe=o[0].businessName+"",Ke,xt,De,Me=o[0].location+"",Xe,yt,le,Ct,Ye,wt,re,Kt='<button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">Edit Program</button> <a href="/analytics" class="btn-primary">View Analytics</a>',Ze,P,F,Et,W,Dt,O,Vt,Q,et,z,U,G,ne,Xt="Program Settings",kt,M,J,ie,Yt="Reward Threshold",It,oe,Se=o[0].rewardThreshold+"",tt,$t,Tt,K,de,Zt="Brand Color",Lt,X,ce,At,Ve,je=o[0].color+"",st,Nt,ue,es='<span class="text-gray-600">Program Status</span> <span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">Active</span>',Ht,Y,ve,ts="Wallet Card Preview",Pt,ke,S,Z,fe,Ie,qe=o[0].businessName+"",at,Mt,$e,Re=o[0].location+"",lt,St,ee,me,ss="7",jt,he,qt,ze=o[0].rewardThreshold+"",rt,Rt,pe,as='<div class="text-xs opacity-90">Tap2 Loyalty</div> <div class="w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center"><span class="text-sm">💳</span></div>',zt,te,j,ge,ls="Recent Activity",Bt,_e,Ft,be,rs="View All Activity",Wt,xe,ns='<h3 class="text-lg font-semibold text-black mb-4">Quick Stats</h3> <div class="space-y-3"><div class="flex justify-between"><span class="text-gray-600">This Week</span> <span class="font-medium text-black">+8 cards</span></div> <div class="flex justify-between"><span class="text-gray-600">This Month</span> <span class="font-medium text-black">+23 cards</span></div> <div class="flex justify-between"><span class="text-gray-600">Peak Day</span> <span class="font-medium text-black">Friday</span></div> <div class="flex justify-between"><span class="text-gray-600">Best Hour</span> <span class="font-medium text-black">2-3 PM</span></div></div>',k;F=new _t({props:{title:"Active Cards",value:o[0].activeCards.toLocaleString(),trend:"up",trendValue:"+5 this week"}}),W=new _t({props:{title:"Total Redemptions",value:o[0].redemptions.toLocaleString(),trend:"up",trendValue:"+3 this week"}}),O=new _t({props:{title:"Engagement Rate",value:o[4]+"%",trend:"up",trendValue:"+2% this week"}}),Q=new _t({props:{title:"Avg per Card",value:o[3],trend:"neutral"}});let Te=Jt(o[5]),I=[];for(let n=0;n<Te.length;n+=1)I[n]=hs(ms(o,Te,n));return{c(){r=s("nav"),i=s("div"),v=s("a"),v.textContent=_,w=h(),E=s("span"),E.textContent=x,f=h(),u=s("span"),y=A(p),C=h(),D=s("div"),d=s("div"),b=s("div"),V=s("div"),Je=A(B),bt=h(),R=s("div"),Ee=s("h1"),Ke=A(Pe),xt=h(),De=s("p"),Xe=A(Me),yt=h(),le=s("p"),Ct=A("Created "),Ye=A(o[2]),wt=h(),re=s("div"),re.innerHTML=Kt,Ze=h(),P=s("div"),Ge(F.$$.fragment),Et=h(),Ge(W.$$.fragment),Dt=h(),Ge(O.$$.fragment),Vt=h(),Ge(Q.$$.fragment),et=h(),z=s("div"),U=s("div"),G=s("div"),ne=s("h3"),ne.textContent=Xt,kt=h(),M=s("div"),J=s("div"),ie=s("span"),ie.textContent=Yt,It=h(),oe=s("span"),tt=A(Se),$t=A(" visits"),Tt=h(),K=s("div"),de=s("span"),de.textContent=Zt,Lt=h(),X=s("div"),ce=s("div"),At=h(),Ve=s("span"),st=A(je),Nt=h(),ue=s("div"),ue.innerHTML=es,Ht=h(),Y=s("div"),ve=s("h3"),ve.textContent=ts,Pt=h(),ke=s("div"),S=s("div"),Z=s("div"),fe=s("div"),Ie=s("h4"),at=A(qe),Mt=h(),$e=s("p"),lt=A(Re),St=h(),ee=s("div"),me=s("div"),me.textContent=ss,jt=h(),he=s("div"),qt=A("of "),rt=A(ze),Rt=h(),pe=s("div"),pe.innerHTML=as,zt=h(),te=s("div"),j=s("div"),ge=s("h3"),ge.textContent=ls,Bt=h(),_e=s("div");for(let n=0;n<I.length;n+=1)I[n].c();Ft=h(),be=s("button"),be.textContent=rs,Wt=h(),xe=s("div"),xe.innerHTML=ns,this.h()},l(n){r=t(n,"NAV",{class:!0});var g=c(r);i=t(g,"DIV",{class:!0});var N=c(i);v=t(N,"A",{href:!0,class:!0,"data-svelte-h":!0}),T(v)!=="svelte-n3oozi"&&(v.textContent=_),w=m(N),E=t(N,"SPAN",{"data-svelte-h":!0}),T(E)!=="svelte-ocknwt"&&(E.textContent=x),f=m(N),u=t(N,"SPAN",{class:!0});var Be=c(u);y=L(Be,p),Be.forEach(l),N.forEach(l),g.forEach(l),C=m(n),D=t(n,"DIV",{class:!0});var Fe=c(D);d=t(Fe,"DIV",{class:!0});var ye=c(d);b=t(ye,"DIV",{class:!0});var $=c(b);V=t($,"DIV",{class:!0,style:!0});var We=c(V);Je=L(We,B),We.forEach(l),bt=m($),R=t($,"DIV",{});var Le=c(R);Ee=t(Le,"H1",{class:!0});var is=c(Ee);Ke=L(is,Pe),is.forEach(l),xt=m(Le),De=t(Le,"P",{class:!0});var os=c(De);Xe=L(os,Me),os.forEach(l),yt=m(Le),le=t(Le,"P",{class:!0});var Ot=c(le);Ct=L(Ot,"Created "),Ye=L(Ot,o[2]),Ot.forEach(l),Le.forEach(l),$.forEach(l),wt=m(ye),re=t(ye,"DIV",{class:!0,"data-svelte-h":!0}),T(re)!=="svelte-16t2qtb"&&(re.innerHTML=Kt),ye.forEach(l),Fe.forEach(l),Ze=m(n),P=t(n,"DIV",{class:!0});var se=c(P);Ue(F.$$.fragment,se),Et=m(se),Ue(W.$$.fragment,se),Dt=m(se),Ue(O.$$.fragment,se),Vt=m(se),Ue(Q.$$.fragment,se),se.forEach(l),et=m(n),z=t(n,"DIV",{class:!0});var nt=c(z);U=t(nt,"DIV",{class:!0});var it=c(U);G=t(it,"DIV",{class:!0});var ot=c(G);ne=t(ot,"H3",{class:!0,"data-svelte-h":!0}),T(ne)!=="svelte-haqov5"&&(ne.textContent=Xt),kt=m(ot),M=t(ot,"DIV",{class:!0});var Ae=c(M);J=t(Ae,"DIV",{class:!0});var dt=c(J);ie=t(dt,"SPAN",{class:!0,"data-svelte-h":!0}),T(ie)!=="svelte-zab1u7"&&(ie.textContent=Yt),It=m(dt),oe=t(dt,"SPAN",{class:!0});var Qt=c(oe);tt=L(Qt,Se),$t=L(Qt," visits"),Qt.forEach(l),dt.forEach(l),Tt=m(Ae),K=t(Ae,"DIV",{class:!0});var ct=c(K);de=t(ct,"SPAN",{class:!0,"data-svelte-h":!0}),T(de)!=="svelte-1s28fxp"&&(de.textContent=Zt),Lt=m(ct),X=t(ct,"DIV",{class:!0});var ut=c(X);ce=t(ut,"DIV",{class:!0,style:!0}),c(ce).forEach(l),At=m(ut),Ve=t(ut,"SPAN",{class:!0});var ds=c(Ve);st=L(ds,je),ds.forEach(l),ut.forEach(l),ct.forEach(l),Nt=m(Ae),ue=t(Ae,"DIV",{class:!0,"data-svelte-h":!0}),T(ue)!=="svelte-14xojba"&&(ue.innerHTML=es),Ae.forEach(l),ot.forEach(l),Ht=m(it),Y=t(it,"DIV",{class:!0});var vt=c(Y);ve=t(vt,"H3",{class:!0,"data-svelte-h":!0}),T(ve)!=="svelte-4vxm05"&&(ve.textContent=ts),Pt=m(vt),ke=t(vt,"DIV",{class:!0});var cs=c(ke);S=t(cs,"DIV",{class:!0,style:!0});var ft=c(S);Z=t(ft,"DIV",{class:!0});var mt=c(Z);fe=t(mt,"DIV",{});var ht=c(fe);Ie=t(ht,"H4",{class:!0});var us=c(Ie);at=L(us,qe),us.forEach(l),Mt=m(ht),$e=t(ht,"P",{class:!0});var vs=c($e);lt=L(vs,Re),vs.forEach(l),ht.forEach(l),St=m(mt),ee=t(mt,"DIV",{class:!0});var pt=c(ee);me=t(pt,"DIV",{class:!0,"data-svelte-h":!0}),T(me)!=="svelte-1vxqnn9"&&(me.textContent=ss),jt=m(pt),he=t(pt,"DIV",{class:!0});var Ut=c(he);qt=L(Ut,"of "),rt=L(Ut,ze),Ut.forEach(l),pt.forEach(l),mt.forEach(l),Rt=m(ft),pe=t(ft,"DIV",{class:!0,"data-svelte-h":!0}),T(pe)!=="svelte-1d20kiq"&&(pe.innerHTML=as),ft.forEach(l),cs.forEach(l),vt.forEach(l),it.forEach(l),zt=m(nt),te=t(nt,"DIV",{class:!0});var gt=c(te);j=t(gt,"DIV",{class:!0});var Ne=c(j);ge=t(Ne,"H3",{class:!0,"data-svelte-h":!0}),T(ge)!=="svelte-10pnel2"&&(ge.textContent=ls),Bt=m(Ne),_e=t(Ne,"DIV",{class:!0});var fs=c(_e);for(let Gt=0;Gt<I.length;Gt+=1)I[Gt].l(fs);fs.forEach(l),Ft=m(Ne),be=t(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),T(be)!=="svelte-1de6zwc"&&(be.textContent=rs),Ne.forEach(l),Wt=m(gt),xe=t(gt,"DIV",{class:!0,"data-svelte-h":!0}),T(xe)!=="svelte-eugdcb"&&(xe.innerHTML=ns),gt.forEach(l),nt.forEach(l),this.h()},h(){a(v,"href","/"),a(v,"class","hover:text-tap2-blue"),a(u,"class","text-black"),a(i,"class","flex items-center space-x-2 text-sm text-gray-600"),a(r,"class","mb-6"),a(V,"class","w-16 h-16 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl"),He(V,"background-color",o[0].color),a(Ee,"class","text-3xl font-bold text-black"),a(De,"class","text-gray-600"),a(le,"class","text-sm text-gray-500"),a(b,"class","flex items-center mb-4 md:mb-0"),a(re,"class","flex space-x-3"),a(d,"class","flex flex-col md:flex-row md:items-center md:justify-between"),a(D,"class","mb-8"),a(P,"class","grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8"),a(ne,"class","text-lg font-semibold text-black mb-4"),a(ie,"class","text-gray-600"),a(oe,"class","font-medium text-black"),a(J,"class","flex justify-between items-center py-2 border-b border-gray-100"),a(de,"class","text-gray-600"),a(ce,"class","w-6 h-6 rounded-full mr-2 border border-gray-200"),He(ce,"background-color",o[0].color),a(Ve,"class","font-mono text-sm"),a(X,"class","flex items-center"),a(K,"class","flex justify-between items-center py-2 border-b border-gray-100"),a(ue,"class","flex justify-between items-center py-2"),a(M,"class","space-y-4"),a(G,"class","card p-6"),a(ve,"class","text-lg font-semibold text-black mb-4"),a(Ie,"class","text-lg font-bold"),a($e,"class","text-sm opacity-90"),a(me,"class","text-2xl font-bold"),a(he,"class","text-xs opacity-90"),a(ee,"class","text-right"),a(Z,"class","flex justify-between items-start"),a(pe,"class","flex justify-between items-end"),a(S,"class","w-80 h-48 rounded-2xl shadow-lg flex flex-col justify-between p-6 text-white"),He(S,"background","linear-gradient(135deg, "+o[0].color+" 0%, "+o[0].color+"dd 100%)"),a(ke,"class","flex justify-center"),a(Y,"class","card p-6"),a(U,"class","lg:col-span-2 space-y-6"),a(ge,"class","text-lg font-semibold text-black mb-4"),a(_e,"class","space-y-3"),a(be,"class","w-full mt-4 text-sm text-tap2-blue hover:text-blue-700 font-medium"),a(j,"class","card p-6"),a(xe,"class","card p-6"),a(te,"class","space-y-6"),a(z,"class","grid grid-cols-1 lg:grid-cols-3 gap-8")},m(n,g){H(n,r,g),e(r,i),e(i,v),e(i,w),e(i,E),e(i,f),e(i,u),e(u,y),H(n,C,g),H(n,D,g),e(D,d),e(d,b),e(b,V),e(V,Je),e(b,bt),e(b,R),e(R,Ee),e(Ee,Ke),e(R,xt),e(R,De),e(De,Xe),e(R,yt),e(R,le),e(le,Ct),e(le,Ye),e(d,wt),e(d,re),H(n,Ze,g),H(n,P,g),Qe(F,P,null),e(P,Et),Qe(W,P,null),e(P,Dt),Qe(O,P,null),e(P,Vt),Qe(Q,P,null),H(n,et,g),H(n,z,g),e(z,U),e(U,G),e(G,ne),e(G,kt),e(G,M),e(M,J),e(J,ie),e(J,It),e(J,oe),e(oe,tt),e(oe,$t),e(M,Tt),e(M,K),e(K,de),e(K,Lt),e(K,X),e(X,ce),e(X,At),e(X,Ve),e(Ve,st),e(M,Nt),e(M,ue),e(U,Ht),e(U,Y),e(Y,ve),e(Y,Pt),e(Y,ke),e(ke,S),e(S,Z),e(Z,fe),e(fe,Ie),e(Ie,at),e(fe,Mt),e(fe,$e),e($e,lt),e(Z,St),e(Z,ee),e(ee,me),e(ee,jt),e(ee,he),e(he,qt),e(he,rt),e(S,Rt),e(S,pe),e(z,zt),e(z,te),e(te,j),e(j,ge),e(j,Bt),e(j,_e);for(let N=0;N<I.length;N+=1)I[N]&&I[N].m(_e,null);e(j,Ft),e(j,be),e(te,Wt),e(te,xe),k=!0},p(n,g){(!k||g&1)&&p!==(p=n[0].businessName+"")&&q(y,p),(!k||g&1)&&B!==(B=n[0].businessName.charAt(0)+"")&&q(Je,B),(!k||g&1)&&He(V,"background-color",n[0].color),(!k||g&1)&&Pe!==(Pe=n[0].businessName+"")&&q(Ke,Pe),(!k||g&1)&&Me!==(Me=n[0].location+"")&&q(Xe,Me),(!k||g&4)&&q(Ye,n[2]);const N={};g&1&&(N.value=n[0].activeCards.toLocaleString()),F.$set(N);const Be={};g&1&&(Be.value=n[0].redemptions.toLocaleString()),W.$set(Be);const Fe={};g&16&&(Fe.value=n[4]+"%"),O.$set(Fe);const ye={};if(g&8&&(ye.value=n[3]),Q.$set(ye),(!k||g&1)&&Se!==(Se=n[0].rewardThreshold+"")&&q(tt,Se),(!k||g&1)&&He(ce,"background-color",n[0].color),(!k||g&1)&&je!==(je=n[0].color+"")&&q(st,je),(!k||g&1)&&qe!==(qe=n[0].businessName+"")&&q(at,qe),(!k||g&1)&&Re!==(Re=n[0].location+"")&&q(lt,Re),(!k||g&1)&&ze!==(ze=n[0].rewardThreshold+"")&&q(rt,ze),(!k||g&1)&&He(S,"background","linear-gradient(135deg, "+n[0].color+" 0%, "+n[0].color+"dd 100%)"),g&32){Te=Jt(n[5]);let $;for($=0;$<Te.length;$+=1){const We=ms(n,Te,$);I[$]?I[$].p(We,g):(I[$]=hs(We),I[$].c(),I[$].m(_e,null))}for(;$<I.length;$+=1)I[$].d(1);I.length=Te.length}},i(n){k||(we(F.$$.fragment,n),we(W.$$.fragment,n),we(O.$$.fragment,n),we(Q.$$.fragment,n),k=!0)},o(n){Ce(F.$$.fragment,n),Ce(W.$$.fragment,n),Ce(O.$$.fragment,n),Ce(Q.$$.fragment,n),k=!1},d(n){n&&(l(r),l(C),l(D),l(Ze),l(P),l(et),l(z)),Oe(F),Oe(W),Oe(O),Oe(Q),ps(I,n)}}}function Ls(o){let r,i='<div class="w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"><span class="text-4xl">❌</span></div> <h3 class="text-lg font-medium text-gray-900 mb-2">Card not found</h3> <p class="text-gray-600 mb-6">The loyalty card you&#39;re looking for doesn&#39;t exist.</p> <a href="/" class="btn-primary">Back to Dashboard</a>';return{c(){r=s("div"),r.innerHTML=i,this.h()},l(v){r=t(v,"DIV",{class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1nqqlcp"&&(r.innerHTML=i),this.h()},h(){a(r,"class","text-center py-12")},m(v,_){H(v,r,_)},p:ae,i:ae,o:ae,d(v){v&&l(r)}}}function As(o){let r,i,v,_,w='<div class="w-16 h-16 bg-gray-200 rounded-lg mr-4"></div> <div><div class="h-6 bg-gray-200 rounded mb-2 w-48"></div> <div class="h-4 bg-gray-200 rounded mb-1 w-32"></div> <div class="h-3 bg-gray-200 rounded w-24"></div></div>',E,x,f=Jt(Array(4)),u=[];for(let p=0;p<f.length;p+=1)u[p]=Ns($s(o,f,p));return{c(){r=s("div"),i=s("div"),v=h(),_=s("div"),_.innerHTML=w,E=h(),x=s("div");for(let p=0;p<u.length;p+=1)u[p].c();this.h()},l(p){r=t(p,"DIV",{class:!0});var y=c(r);i=t(y,"DIV",{class:!0}),c(i).forEach(l),v=m(y),_=t(y,"DIV",{class:!0,"data-svelte-h":!0}),T(_)!=="svelte-1n2nrza"&&(_.innerHTML=w),E=m(y),x=t(y,"DIV",{class:!0});var C=c(x);for(let D=0;D<u.length;D+=1)u[D].l(C);C.forEach(l),y.forEach(l),this.h()},h(){a(i,"class","h-8 bg-gray-200 rounded mb-6 w-48"),a(_,"class","flex items-center mb-8"),a(x,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"),a(r,"class","animate-pulse")},m(p,y){H(p,r,y),e(r,i),e(r,v),e(r,_),e(r,E),e(r,x);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(x,null)},p:ae,i:ae,o:ae,d(p){p&&l(r),ps(u,p)}}}function hs(o){let r,i,v,_,w,E=o[12].message+"",x,f,u,p=o[12].time+"",y,C;return{c(){r=s("div"),i=s("div"),v=h(),_=s("div"),w=s("p"),x=A(E),f=h(),u=s("p"),y=A(p),C=h(),this.h()},l(D){r=t(D,"DIV",{class:!0});var d=c(r);i=t(d,"DIV",{class:!0}),c(i).forEach(l),v=m(d),_=t(d,"DIV",{class:!0});var b=c(_);w=t(b,"P",{class:!0});var V=c(w);x=L(V,E),V.forEach(l),f=m(b),u=t(b,"P",{class:!0});var B=c(u);y=L(B,p),B.forEach(l),b.forEach(l),C=m(d),d.forEach(l),this.h()},h(){a(i,"class","w-2 h-2 bg-tap2-blue rounded-full mt-2 flex-shrink-0"),a(w,"class","text-sm text-gray-900"),a(u,"class","text-xs text-gray-500"),a(_,"class","flex-1 min-w-0"),a(r,"class","flex items-start space-x-3 py-2")},m(D,d){H(D,r,d),e(r,i),e(r,v),e(r,_),e(_,w),e(w,x),e(_,f),e(_,u),e(u,y),e(r,C)},p:ae,d(D){D&&l(r)}}}function Ns(o){let r;return{c(){r=s("div"),this.h()},l(i){r=t(i,"DIV",{class:!0}),c(r).forEach(l),this.h()},h(){a(r,"class","h-24 bg-gray-200 rounded")},m(i,v){H(i,r,v)},p:ae,d(i){i&&l(r)}}}function Hs(o){let r,i,v,_,w,E,x,f,u,p;document.title=r=(o[0]?o[0].businessName:"Loading...")+" - Tap2 Loyalty",w=new Ds({});const y=[As,Ls,Ts],C=[];function D(d,b){return d[1]?0:d[0]?2:1}return f=D(o),u=C[f]=y[f](o),{c(){i=s("meta"),_=h(),Ge(w.$$.fragment),E=h(),x=s("main"),u.c(),this.h()},l(d){const b=ys("svelte-17tod1c",document.head);i=t(b,"META",{name:!0,content:!0}),b.forEach(l),_=m(d),Ue(w.$$.fragment,d),E=m(d),x=t(d,"MAIN",{class:!0});var V=c(x);u.l(V),V.forEach(l),this.h()},h(){a(i,"name","description"),a(i,"content",v="Loyalty program details for "+(o[0]?o[0].businessName:"this business")),a(x,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(d,b){e(document.head,i),H(d,_,b),Qe(w,d,b),H(d,E,b),H(d,x,b),C[f].m(x,null),p=!0},p(d,[b]){(!p||b&1)&&r!==(r=(d[0]?d[0].businessName:"Loading...")+" - Tap2 Loyalty")&&(document.title=r),(!p||b&1&&v!==(v="Loyalty program details for "+(d[0]?d[0].businessName:"this business")))&&a(i,"content",v);let V=f;f=D(d),f===V?C[f].p(d,b):(Es(),Ce(C[V],1,1,()=>{C[V]=null}),xs(),u=C[f],u?u.p(d,b):(u=C[f]=y[f](d),u.c()),we(u,1),u.m(x,null))},i(d){p||(we(w.$$.fragment,d),we(u),p=!0)},o(d){Ce(w.$$.fragment,d),Ce(u),p=!1},d(d){d&&(l(_),l(E),l(x)),l(i),Oe(w,d),C[f].d()}}}function Ps(o,r,i){let v,_,w,E,x;Cs(o,Vs,y=>i(6,x=y));let f=null,u=!0;ws(async()=>{if(v)try{const y=await ks.query(Is.loyaltyCards.get,{id:v});i(0,f=y),i(1,u=!1)}catch(y){console.error("Error loading card:",y),i(1,u=!1)}});let p=[{type:"redemption",message:"Customer redeemed free coffee",time:"2 hours ago"},{type:"new_card",message:"New loyalty card created",time:"4 hours ago"},{type:"visit",message:"Customer visited (8/10 stamps)",time:"6 hours ago"},{type:"redemption",message:"Customer redeemed free pastry",time:"1 day ago"}];return o.$$.update=()=>{o.$$.dirty&64&&(v=x.params.id),o.$$.dirty&1&&i(4,_=f&&f.activeCards>0?Math.round(f.redemptions/f.activeCards*100):0),o.$$.dirty&1&&i(3,w=f&&f.activeCards>0?(f.redemptions/f.activeCards).toFixed(1):0),o.$$.dirty&1&&i(2,E=f?new Date(f.createdAt).toLocaleDateString():"")},[f,u,E,w,_,p,x]}class Bs extends gs{constructor(r){super(),_s(this,r,Ps,Hs,bs,{})}}export{Bs as component};
